# 🎮 游戏设计文档 — Strange Places：观察改变现实

## 一、游戏概述

### 游戏名（暂定）
**Observer / Strange Places / 观测者**

### Game Jam 主题
**Strange Places（奇怪的地方）**

### 核心概念
玩家进入一个违反常理的世界：

> **观察改变现实，空间不可信，时间不稳定，路径不是最短而是最快。**

游戏通过多个“科学但反直觉”的机制构建解谜关卡。

---

## 二、游戏类型

- 2D 横版解谜冒险
- 单人
- 关卡制
- 低美术成本（极简几何风）

---

## 三、核心玩法机制

游戏围绕四个科学机制展开：

1. 量子观察坍缩（观察改变状态）
2. 费尔马最少时间原理（路径自动优化）
3. 相对论时间膨胀（不同区域时间不同）
4. 非欧几何空间（空间不遵循直觉）

---

## 文本规则（必须遵守）

- **游戏内所有可见文字必须是中文**（UI、提示、标牌、结算文案等），不允许出现英文单词。

---

# 四、机制详细设计

---

## ① 量子观察坍缩（核心机制）

### 概念
未被观察的物体处于叠加态，被观察后状态确定。

### 玩家能力
- 玩家视野 = 手电筒 / 锥形观察区域
- 被观察物体状态固定
- 不看 → 状态改变

### 游戏表现

| 状态 | 表现 |
|---|---|
| 未观察 | 半透明 / 抖动 / 多形态 |
| 被观察 | 实体化 / 固定 |
| 视线离开 | 恢复叠加 |

### 可用于解谜

- 看平台 → 出现
- 不看怪物 → 怪物冻结
- 门只有在不看时才开启
- 同一物体有多个可能位置

### 典型关卡

```
玩家必须边走边回头看平台，
否则平台消失。
```

---

## ② 费尔马最少时间原理（路径自动优化）

### 概念
物体选择“耗时最少”的路径，而非最短路径。

### 游戏规则

- 激光 / 能量 / 移动物体自动选择最快路线
- 不同区域移动速度不同

### 游戏表现

| 区域 | 移动速度 |
|---|---|
| 空气 | 快 |
| 水 | 慢 |
| 特殊区域 | 极慢 |

### 可用于解谜

- 激光自动弯曲
- 能量绕路更快
- 玩家改变介质影响路径

### 玩家操作

- 放置减速区域
- 改变路径材料
- 控制能量路线

### 典型关卡

```
直线路径是慢速区域，
绕路反而更快。
```

---

## ③ 相对论时间膨胀（局部时间流速）

### 概念
不同区域时间流速不同。

### 游戏规则

| 区域 | 时间 |
|---|---|
| 普通区 | 正常 |
| 高重力区 | 时间慢 |
| 低重力区 | 时间快 |

### 游戏表现

- 子弹慢动作
- 敌人变慢
- 玩家速度变化

### 可用于解谜

- 慢时间躲机关
- 快时间让植物瞬间生长
- 利用时间差通过障碍

### 典型关卡

```
跳入慢时间区躲避高速机关。
```

---

## ④ 非欧几何空间（空间不连续）

### 概念
空间连接不符合常识。

### 游戏规则

- 门连接不同位置
- 掉下去从侧面出来
- 空间循环
- 外大内小结构

### 游戏表现

- 无限循环走廊
- 空间折叠
- 传送错位

### 可用于解谜

- 改变空间拓扑
- 从不可能的方向出现
- 利用循环空间

### 典型关卡

```
一直向右走回到起点，
必须改变空间结构才能通过。
```

---

# 五、机制组合（核心亮点）

Game Jam 的加分点在于机制组合。

---

## 组合示例 1
观察 + 非欧空间

- 观察墙 → 空间结构改变
- 不看 → 恢复

---

## 组合示例 2
时间膨胀 + 费尔马原理

- 慢时间区域改变最优路径
- 玩家操控激光走向

---

## 组合示例 3
观察 + 时间膨胀

- 被观察区域时间变慢

---

## 组合示例 4（Boss关）
同时使用全部机制。

---

# 六、玩家目标

- 探索 strange place
- 通过解谜到达出口
- 理解世界规则

游戏核心体验：

```
理解 → 实验 → 认知反转 → 解谜成功
```

---

# 七、美术方案（低成本）

## 风格推荐

### 极简几何风（推荐）

- 纯色背景
- 简单几何形体
- 发光效果表示观察
- 半透明表示叠加态

类似：

- Superhot 风格
- Antichamber 风格

---

## 状态视觉语言

| 状态 | 表现 |
|---|---|
| 叠加态 | 抖动/多重影 |
| 被观察 | 高亮 |
| 慢时间 | 蓝色 |
| 快时间 | 红色 |
| 非欧空间 | 扭曲边缘 |

---

# 八、技术实现（Unity建议）

## 必要系统

- 视线检测（Raycast + 锥形区域）
- 状态切换系统
- 区域时间倍率
- 空间传送器
- 路径速度计算

## 实现难度排序

1. 观察坍缩（最简单）
2. 时间膨胀
3. 费尔马路径
4. 非欧空间（最难）

Game Jam 建议优先做前两个。

---

# 九、Game Jam 推荐 Scope（48h）

## Day 1
- 玩家移动
- 观察系统
- 一个关卡

## Day 2
- 时间区域
- 简单非欧空间
- 关卡组合

---

# 十、游戏卖点（评委喜欢）

- 强主题一致性（Strange Places）
- 科学概念转玩法
- 机制组合
- 认知反转体验
- 低成本高创意

---

# 一句话 Pitch

> 在一个观察会改变现实的奇怪世界中，利用时间、空间和物理规律解谜逃离。

# 十一、2D 实现方案（关键）

本游戏所有机制必须在 **2D 平面中清晰表达**，不依赖复杂 3D 或高美术成本。

核心原则：

- 用视觉规则表达物理规则
- 用区域/状态切换代替真实模拟
- 玩家能直觉理解变化

---

# ① 量子观察坍缩（2D实现）

## 核心目标
玩家“看”决定物体是否存在或处于什么状态。

---

## 2D玩法表现方式

### 方法1：视野锥（推荐）

玩家拥有一个扇形/锥形观察范围。

```
玩家朝向 →
   \   观察区域
    \_____
```

在范围内：

- 物体实体化
- 平台出现
- 敌人固定

离开范围：

- 状态改变
- 消失
- 移动

---

### 方法2：屏幕内/屏幕外判断（极低成本）

```
在屏幕内 = 被观察
屏幕外 = 未观察
```

实现：

- 摄像机可见性检测
- 不需要视线系统

非常适合 Game Jam。

---

### 方法3：背对机制（更简单）

```
玩家面向方向决定观察
```

- 面向 → 固定
- 背对 → 变化

类似“回头看平台”。

---

## Unity实现思路

### 方案A：Raycast检测（推荐）

- Player 发射多条 Raycast
- 命中对象 → 切换状态

```
Physics2D.Raycast
```

---

### 方案B：Trigger区域（最简单）

- 玩家前方一个 collider
- 进入 = 被观察

```
OnTriggerEnter2D / Exit
```

---

## 视觉表现（2D）

| 状态 | 表现 |
|---|---|
| 未观察 | 半透明 / 抖动 |
| 被观察 | 实体颜色 |
| 叠加 | 多重影 |

只用 shader 或透明度即可。

---

## Game Jam实现难度
⭐⭐（非常适合）

---

# ② 费尔马最少时间原理（2D实现）

## 核心目标
物体走“最快路径”而不是最短路径。

2D 中不做真实物理，只做规则模拟。

---

## 2D玩法表现方式

### 方法1：不同区域移动速度（推荐）

关卡中存在不同速度区域：

```
蓝色区域 → 慢
白色区域 → 快
```

物体进入不同区域：

```
速度 = 基础速度 × 区域倍率
```

结果：

- 能量自动绕开慢区域
- 激光弯曲

---

### 方法2：自动寻路系统（低成本）

对象会自动寻找耗时最少路线。

```
耗时 = 距离 / 区域速度
```

玩家通过改变区域影响路径。

---

### 方法3：折射式路径（视觉强）

激光进入不同区域改变方向。

```
快 → 慢：向法线偏折
```

用简单角度计算即可，不需要真实光学。

---

## Unity实现思路

### 区域速度系统（推荐）

每个区域有：

```
speedMultiplier
```

物体进入区域：

```
OnTriggerEnter2D
修改速度
```

---

### 简化路径计算

可用：

- 网格地图
- A* 寻路
- 成本 = 时间

---

## 视觉表达

| 区域 | 表现 |
|---|---|
| 快 | 亮色 |
| 慢 | 深色 |
| 超慢 | 粘稠效果 |

---

## Game Jam实现难度
⭐⭐⭐（中等）

---

## 关卡2：负质量箱子——“向上坠落”

> 关卡要让玩家直观理解：**红箱会“向上坠落”**；并能用“红箱+黑箱”做出一个能载人的临时电梯。

### 教学目标（玩家学到什么）

1. 负质量箱子会“向上坠落”（核心反直觉）
2. 缺口/遮挡会决定它是否能上坠触发机关
3. 负质量 + 普通质量可以组成“电梯”，载人上升到高处

### 核心道具/对象（关卡里出现什么）

- **独立负质量箱子（红色）**：可推动；无阻挡时会向上坠落。
- **组合电梯（红箱 + 黑箱）**：用 `DistanceJoint2D` 连接；黑箱死沉，红箱单独拉不动。
- **门开关（天花板触发器）**：只允许红箱“向上撞击”触发。
- **终点门**：默认关闭；开关触发后永久打开。
- **出口平台**：高度不可直接跳上。

### 核心机制流程（两步）

1. **触发机关（左中）**
   - 初始：终点门关闭。
   - 玩家在底层把独立红箱推到缺口下方。
   - 红箱上坠撞到门开关 → 终点门永久打开。

2. **组装电梯（右侧）**
   - 初始：出口太高，跳不上去。
   - 红箱（负质量）与黑箱（普通质量）连接后，由于黑箱过重，装置停在地面。
   - 玩家把装置推到出口正下方并站上红箱。
   - 玩家“重量”被红箱转化为更强升力 → 装置明显加速上升到出口平台。

### 失败与重试（低成本但明确）

- 掉落或装置飞偏：按重来键重置本关。

### 技术落地建议（最小可做版本）

- `NegativeMassBox2D`：红箱基础上坠；电梯红箱在“承重”时额外提供强升力。
- `DoorSwitch2D` + `DoorController2D`：一次触发永久开门。
- `DistanceJoint2D`：红黑连接（建议 `maxDistanceOnly` 作为“绳”）。
- 关内所有可见文案保持中文。

### 场景与命名

- 第二关场景：`Assets/Scenes/Level2_NegativeMassBox.unity`
- 在选关界面中加节点 `1-2`（后续扩展世界地图即可）。

---

# ③ 相对论时间膨胀（2D实现）

## 核心目标
不同区域时间流速不同。

---

## 2D玩法表现方式

### 方法1：区域时间倍率（推荐）

区域影响物体时间：

```
慢时间区 → 0.3x
快时间区 → 2x
```

效果：

- 动画变慢
- 移动变慢
- 子弹慢动作

---

### 方法2：局部TimeScale系统

不改全局时间，只改单个对象。

```
object.timeScale
```

---

### 方法3：玩家时间 vs 世界时间

- 玩家正常
- 世界变慢

或反过来。

---

## Unity实现思路

不要用：

```
Time.timeScale（全局）
```

推荐：

```
velocity *= localTimeScale
animationSpeed *= localTimeScale
```

进入区域时改变倍率。

---

## 视觉表达

| 状态 | 表现 |
|---|---|
| 慢时间 | 蓝色滤镜 + 拖影 |
| 快时间 | 红色残影 |

---

## Game Jam实现难度
⭐⭐（简单）

---

# ④ 非欧几何空间（2D实现）

## 核心目标
空间连接违反直觉。

2D 不需要真实几何，只做拓扑欺骗。

---

## 2D玩法表现方式

### 方法1：传送边界（最推荐）

```
左边界 → 右边界
上掉下出
```

像吃豆人地图。

---

### 方法2：门连接不同位置

```
A门 → B区域
B门 → C区域
```

视觉上空间连续，逻辑不连续。

---

### 方法3：无限循环空间

```
一直向右走 → 回到起点
```

玩家必须改变条件打破循环。

---

### 方法4：内部大于外部

进入小房间 → 内部巨大地图。

本质是：

```
切换场景 + 相机
```

---

## Unity实现思路

### 传送器

```
OnTriggerEnter2D
player.position = targetPosition
```

---

### 多房间系统

- 每个房间独立
- 门连接引用

---

### 相机欺骗

- 切场景
- 不加载过场
- 玩家无感

---

## 视觉表达

| 类型 | 表现 |
|---|---|
| 空间错位 | 扭曲边框 |
| 传送 | 闪烁 |
| 循环 | 相同场景重复 |

---

## Game Jam实现难度
⭐⭐⭐（中等）

---

# 十二、Game Jam 推荐优先级（重要）

48小时建议：

## 必做（保证可玩）

1️⃣ 观察坍缩  
2️⃣ 时间膨胀  

原因：

- 实现简单
- 最直观
- theme契合强

---

## 有时间再做

3️⃣ 非欧空间  
4️⃣ 费尔马路径

---

# 十三、最低实现组合（强烈推荐）

如果时间紧：

```
观察坍缩 + 时间区域
```

就已经是完整游戏体验。

```
观察 → 改变世界
时间 → 解决挑战
```

评委体验已经足够强。
